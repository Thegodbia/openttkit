<div class="content-body">
    <div class="container">
        <div class="row">
            <div class="col-xxl-12">
                <div class="card">
<div class="card-body">
    <div class="row">
        <div class="col-xxl-12">
            <div class="card">
                <div class="card-header px-0">
                    <h4 class="card-title">Report</h4>
                    <div class="dropdown float-end">
                        <button class="btn btn-primary drop-toggle" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
                            <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
width="30" height="30"
viewBox="0 0 171 171"
style=" fill:#000000;"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,171.99654v-171.99654h171.99654v171.99654z" fill="none"></path><g fill="#ffffff"><path d="M110.80102,5.23469l-1.39728,8.37687c-2.56506,0.65299 -5.02986,1.65038 -7.32721,2.96496l-6.97959,-5.06089l-11.68945,11.34184l3.83741,5.06089h-73.81055c-1.91939,0 -2.96496,2.26905 -2.96496,4.18844v16.40272c-0.03723,0.86754 0.20791,1.72375 0.69864,2.44013l46.4136,47.28946v64.2102c-0.01815,1.19297 0.57441,2.31253 1.57109,2.96837c0.57548,0.35618 1.24211,0.53734 1.91871,0.52142l1.39728,-0.34762l26.52109,-13.26054c1.11774,-0.64433 1.7888,-1.85277 1.7449,-3.14218v-50.94966l17.62279,-17.62619h0.87245l1.57109,8.37687h16.40272l1.39387,-8.37687c2.57638,-0.62141 5.04666,-1.62055 7.33062,-2.96496l6.97959,5.06089l11.68945,-11.69286l-5.06088,-6.97959c1.18612,-2.33755 2.1228,-4.79349 2.79456,-7.32721l8.19966,-1.39728v-16.39932l-8.19966,-1.39728c-0.67096,-2.59093 -1.60744,-5.10571 -2.79456,-7.50442l5.06088,-6.97959l-11.68945,-11.51565l-6.97959,4.88708c-2.32582,-1.21422 -4.78621,-2.15103 -7.33062,-2.79116l-1.39387,-8.37687zM116.73436,12.21429h4.53605l1.22007,7.1534l2.26973,0.35102c3.34729,0.69866 6.54004,1.99886 9.42313,3.83741l2.09251,1.39728l5.93334,-4.36224l3.31599,3.31258l-4.18844,5.93333l1.22007,1.91871c1.82631,2.88978 3.12664,6.08005 3.84082,9.42313v2.44354l6.97959,1.04626v4.71327l-6.80578,1.22007l-0.34762,2.26973c-0.6519,3.36088 -1.95681,6.56123 -3.84082,9.41972l-1.22006,1.92211l4.36224,6.10714l-3.31599,3.31258l-5.93334,-4.18503l-1.91871,1.22007c-2.95139,1.82768 -6.19908,3.12629 -9.59694,3.83741l-2.26973,0.35102l-1.22007,7.1534h-4.53605l-1.22347,-7.1534l-2.26632,-0.35102c-3.37127,-0.61836 -6.57899,-1.92465 -9.42313,-3.83741l-2.09251,-1.22007l-5.93333,4.18503l-3.31599,-3.31258l4.18844,-5.93333l-1.22347,-1.91871c-1.79419,-2.90583 -3.09112,-6.09057 -3.83741,-9.42313l-0.52483,-2.44354l-7.32721,-1.22007v-4.53946l7.32721,-1.22007l0.52483,-2.26973c0.65085,-3.36063 1.95461,-6.56096 3.83741,-9.41972l1.22347,-1.92211l-4.18844,-6.10714l3.31599,-3.31258l5.93333,4.18503l1.91871,-1.22007c2.95139,-1.82768 6.19908,-3.12629 9.59694,-3.83741l2.26632,-0.35102zM119.00068,30.01088c-9.44371,0.00075 -17.09889,7.65674 -17.09864,17.10045c0.00025,9.44371 7.65583,17.09929 17.09955,17.09955c9.44371,0.00025 17.0997,-7.65492 17.10045,-17.09864c0.00036,-4.53567 -1.80127,-8.88568 -5.00847,-12.09289c-3.20721,-3.20721 -7.55721,-5.00884 -12.09289,-5.00847zM17.44898,34.89796h68.57585c-0.15639,0.77804 -0.39044,1.53842 -0.69864,2.26973l-8.55068,1.7449v4.70986h-59.32653zM118.58149,37.0007c2.75466,-0.11457 5.43682,0.89967 7.42645,2.80824c1.98963,1.90857 3.11447,4.54626 3.11451,7.3033c0.00036,2.68457 -1.06592,5.25929 -2.9642,7.15757c-1.89828,1.89828 -4.473,2.96456 -7.15757,2.9642c-5.51965,0.01686 -10.03483,-4.39224 -10.14916,-9.91074c-0.11433,-5.51849 4.21436,-10.11082 9.72997,-10.32258zM20.59116,50.60204h56.18435v4.70986l8.55068,1.39728c0.6988,2.54981 1.6939,5.00897 2.96496,7.32721l-4.88367,7.15681l11.68945,11.51565l5.06089,-3.66361l-15.18266,15.35306c-0.70639,0.62685 -1.14347,1.50223 -1.22007,2.44354v50.07721l-19.19388,9.94796v-60.02517c0.03009,-0.92922 -0.35304,-1.82402 -1.04626,-2.44354z"></path></g></g></svg><svg class="svg-icon svg-icon-sm me-3">
                            <use xlink:href="icons/orion-svg-sprite.57a86639.svg#filter-data-1"> </use>
                          </svg>Filter
                        </button>
                        <div class="dropdown-menu report-menu">
                          <form class="px-4 py-3">
                            <div class="mb-8">
                              <label for="exampleDropdownFormPassword1" class="form-label">Period</label>
                              <select name="period" class="form-select form-select-lg mb-3" aria-label=".form-select-lg example">
                                <option value="today">Today</option>
                                <option value="week">This week</option>
                                <option value="month">This month</option>
                              </select>
                            </div>
                            <div class="mb-8">
                                <label for="exampleDropdownFormPassword1" class="form-label">Status</label>
                                <select name="status" class="form-select form-select-lg mb-3" aria-label=".form-select-lg example">
                                  <option value="all">All</option>
                                  <option value="active">Active</option>
                                  <option value="pending">Pending</option>
                                </select>
                              </div>

                              <div class="mb-8">
                                <label for="exampleDropdownFormPassword1" class="form-label">Range</label>
                                <div class="input-group input-daterange">
                                    <input type="text" autoclose="true" name="start" class="form-control" placeholder="start date">
                                    <div class="input-group-addon">to</div>
                                    <input type="text"  name="end" class="form-control" placeholder="end date">
                                </div>
                              </div>
                            <div class="mb-8">
                              <div class="form-check">
                              </div>
                            </div>
                            <button type="submit" class="btn btn-primary float-end">Apply</button>
                          </form>
                        </div>
                      </div>
                </div>
                
                <div class="card-body px-0">
                    
                </div>
                <div class="card-body px-0">
                    
                </div>
                </div>
            </div>

            <div class="card">
                <div class="col-xxl-12 col-xl-12">
                    <div class="card">
                        <div class="card-body">
                            <% if (pages > 0) { %>
                                <button id="exporttable" class="btn btn-primary"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
                                    width="24" height="24"
                                    viewBox="0 0 171 171"
                                    style=" fill:#000000;"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,171.99654v-171.99654h171.99654v171.99654z" fill="none"></path><g fill="#ffffff"><path d="M42.75,14.25c-7.87313,0 -14.25,6.37688 -14.25,14.25v35.625h-7.125c-7.87312,0 -14.25,6.37687 -14.25,14.25v35.625c0,7.87313 6.37688,14.25 14.25,14.25h7.125v14.25c0,7.87313 6.37687,14.25 14.25,14.25h49.875c6.34838,0 9.52635,-7.67385 5.0376,-12.1626c-1.33238,-1.3395 -3.14947,-2.0874 -5.0376,-2.0874h-49.875v-14.25h64.125c3.933,0 7.125,-3.192 7.125,-7.125c0,-11.80612 9.56888,-21.375 21.375,-21.375c3.933,0 7.125,-3.192 7.125,-7.125v-36.84961c0,-3.77625 -1.50293,-7.40332 -4.17481,-10.0752l-27.27538,-27.27539c-2.67188,-2.67187 -6.29895,-4.1748 -10.0752,-4.1748zM42.75,28.5h57v21.375c0,3.933 3.192,7.125 7.125,7.125h21.375v7.125h-85.5zM21.55591,78.375h8.89233l5.16284,12.23218l5.17676,-12.23218h8.87842l-9.03149,17.65943l9.24023,17.96557h-8.98975l-5.27417,-12.45483l-5.24634,12.45483h-8.98975l9.22632,-17.96557zM57,78.375h7.125v28.5h14.25v7.125h-21.375zM96.11792,78.375c10.13887,0.29212 10.75708,9.14071 10.75708,10.71533h-6.90234c0.00072,-0.75356 0.11105,-4.96801 -3.97998,-4.96801c-1.24688,0 -4.04065,0.55252 -3.8269,3.9939c0.20662,3.14212 4.35872,4.63993 5.12109,4.98193c1.596,0.58425 9.49618,4.10389 9.5603,11.28589c0.01425,1.52475 -0.37996,9.50909 -10.59009,9.61596c-11.10788,0.12112 -11.85645,-9.43751 -11.85645,-11.41113h6.94409c0,1.04738 0.08873,6.11135 4.91236,5.71948c2.89987,-0.24225 3.53233,-2.32932 3.63208,-3.88257c0.16387,-2.61488 -2.33176,-4.18683 -4.96801,-5.45508c-3.705,-1.78125 -9.56476,-3.97041 -9.67163,-10.91016c-0.09262,-6.24863 4.49865,-9.86367 10.8684,-9.68555zM135.375,114c-3.933,0 -7.125,3.192 -7.125,7.125v21.375h-10.07519c-2.30138,0 -4.39067,1.39038 -5.27417,3.52075c-0.29212,0.70538 -0.4314,1.45093 -0.4314,2.18481c0,1.482 0.5798,2.9316 1.66992,4.02173l17.10279,17.10279c2.23012,2.223 5.82725,2.223 8.05737,0l17.10279,-17.10279c1.63163,-1.63162 2.10811,-4.06904 1.22461,-6.20654c-0.87637,-2.13037 -2.95175,-3.52075 -5.26025,-3.52075h-9.86646v-21.375c0,-3.933 -3.192,-7.125 -7.125,-7.125z"></path></g></g></svg> 
                                    Export
                                </button>
                            <% } %>
                            
                            <div class="table-responsive transaction-table">
                                <table class="table table-bordered" id="reporttable" data-show-export="true" width="100%" cellspacing="0">
                                    <% if (requests && requests.length) {%>
                                        
                                    <thead>
                                      <tr>
                                        <th>Date</th>
                                        <th>Msisdn</th>
                                        <th>Status</th>
                                        <th>Type</th>
                                        <th>Commission</th>
                                        <th>Service</th>
                                      </tr>
                                    </thead>
                                        <tbody>
                                        <% for(let req of requests) {%>
                                            <tr>
                                              <td><%- (req.updatedAt != null ) ? moment(req.updatedAt).format('YYYY-MM-DD') : '' %></td>
                                              <td><%- (req.msisdn != null ) ? req.msisdn : '' %></td>
                                              <td><%- (req.state != null ) ? req.state : '' %></td>
                                              <td><%- (req.type != null) ? req.type : '' %></td>
                                              <td><%- (req.commission != null ) ? req.commission : '' %></td>
                                              <td><%- (req.name != null ) ? req.name  :'' %></td>
                                              
                                            </tr>
                                        <% } %>  
                                        </tbody>
                                        
                                      <% } %>  
                                  </table>

                                  <div class="dataTable-bottom">
                                    <% if (pages > 0) { %>
                                        <div class="dataTable-info">Showing page <%= current %> of <%= pages %> </div>
                                    <% } %>
                                    <nav class="dataTable-pagination">
                                      <% if (pages > 0) { %>
                                        <ul class="dataTable-pagination-list">
                                            <% if (current == 1) { %>
                                                <li class="disabled"><a>First</a></li>
                                            <% } else { %>
                                                <li><a href="/agent/report/1<%= query %>">First</a></li>
                                            <% } %>
                                            <% var i = (Number(current) > 5 ? Number(current) - 4 : 1) %>
                                            <% if (i !== 1) { %>
                                                <li class="disabled"><a>...</a></li>
                                            <% } %>
                                            <% for (; i <= (Number(current) + 4) && i <= pages; i++) { %>
                                                <% if (i == current) { %>
                                                    <li class="active"><a><%= i %></a></li>
                                                <% } else { %>
                                                    <li><a href="/agent/report/<%= i %><%= query %>"><%= i %></a></li>
                                                <% } %>
                                                <% if (i == Number(current) + 4 && i < pages) { %>
                                                    <li class="disabled ellipsis"><a>...</a></li>
                                                <% } %>
                                            <% } %>
                                            <% if (current == pages) { %>
                                                <li class="disabled"><a>Last</a></li>
                                            <% } else { %>
                                                <li><a href="/agent/report/<%= pages %><%= query %>">Last</a></li>
                                            <% } %>
                                        </ul>
                                    <% } %>
                                    </nav>
                                  </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>

    </div>
</div>
</div>
</div>

</div>
</div>
